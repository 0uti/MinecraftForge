--- ../src_base/minecraft/net/minecraft/src/ItemDye.java	0000-00-00 00:00:00.000000000 -0000
+++ ../src_work/minecraft/net/minecraft/src/ItemDye.java	0000-00-00 00:00:00.000000000 -0000
@@ -3,7 +3,9 @@
 // Decompiler options: packimports(3) braces deadcode fieldsfirst 
 
 package net.minecraft.src;
+import net.minecraft.src.forge.ForgeHooks;
 
+import java.util.ArrayList;
 import java.util.Random;
 
 // Referenced classes of package net.minecraft.src:
@@ -45,13 +47,18 @@
 
     public boolean onItemUse(ItemStack itemstack, EntityPlayer entityplayer, World world, int i, int j, int k, int l)
     {
-        if(!entityplayer.func_35190_e(i, j, k))
+        if(entityplayer!=null && !entityplayer.func_35190_e(i, j, k))
         {
             return false;
         }
         if(itemstack.getItemDamage() == 15)
         {
             int i1 = world.getBlockId(i, j, k);
+	    if(ForgeHooks.onUseBonemeal(world,i1,i,j,k)) {
+		    if(!world.multiplayerWorld)
+			    itemstack.stackSize--;
+		    return true;
+	    }
             if(i1 == Block.sapling.blockID)
             {
                 if(!world.multiplayerWorld)
@@ -118,13 +125,7 @@
                             world.setBlockAndMetadataWithNotify(k1, l1, i2, Block.tallGrass.blockID, 1);
                             continue;
                         }
-                        if(itemRand.nextInt(3) != 0)
-                        {
-                            world.setBlockWithNotify(k1, l1, i2, Block.plantYellow.blockID);
-                        } else
-                        {
-                            world.setBlockWithNotify(k1, l1, i2, Block.plantRed.blockID);
-                        }
+			ForgeHooks.plantGrassPlant(world,k1,l1,i2);
                     }
 
                 }
@@ -147,5 +148,17 @@
             }
         }
     }
+    
+    /* FORGE: Called when a new CreativeContainer is opened, populate the list 
+     * with all of the items for this item you want a player in creative mode
+     * to have access to.
+     */
+    public void addCreativeItems(ArrayList itemList)
+    {    	
+		for (int x = 0; x < 16; x++)
+		{
+			itemList.add(new ItemStack(this, 1, x));
+		}
+    }
 
 }
